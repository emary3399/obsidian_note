> [!NOTE] ​**SQL数据删除命令精讲**​
> 
> ### 🎯 核心命令对比
> | 命令         | 作用对象       | 日志记录 | 可回滚 | 执行速度 |
> |--------------|--------------|--------|--------|---------|
> | `DELETE`     | 表数据         | ✅      | ✅      | 慢      |
> | `TRUNCATE`   | 表数据         | ❌      | ❌      | 快      |
> | `DROP`       | 表结构+数据    | ❌      | ❌      | 最快     |
> 
> ### 💡 使用场景指南
> ```sql
> -- 安全删除特定数据（可回滚）
> DELETE FROM orders WHERE status = 'expired';
> 
> -- 快速清空大表（不可回滚）
> TRUNCATE TABLE temp_logs;
> 
> -- 彻底删除表（慎用！）
> DROP TABLE deprecated_reports;
> ```

> [!WARNING] ​**避坑指南**​
> 1. `DELETE`不加WHERE条件会清空全表！
> 2. `TRUNCATE`会重置自增计数器
> 3. `DROP`连索引约束一起删除
> 
> ### 🔄 事务特性差异
> ```sql
> -- DELETE在事务中可回滚
> BEGIN;
> DELETE FROM users;
> ROLLBACK;  -- 数据恢复
> 
> -- TRUNCATE/DROP不受事务控制
> BEGIN;
> TRUNCATE TABLE audit_log;  -- 立即生效
> ROLLBACK;  -- 无法恢复！
> ```

> [!TIP] ​**性能优化建议**​
> | 操作类型       | 推荐方案                  |
> |---------------|-------------------------|
> | 删除少量数据   | `DELETE + WHERE`        |
> | 清空大表数据   | `TRUNCATE`              |
> | 重建表结构     | `DROP + CREATE`         |

> 📚 ​**扩展知识**​
> ```sql
> -- 带条件的TRUNCATE（通过分区实现）
> ALTER TABLE sales TRUNCATE PARTITION p2020;
> 
> -- 快速删除所有表（开发环境慎用）
> SET FOREIGN_KEY_CHECKS = 0;
> DROP TABLE table1, table2, table3;
> SET FOREIGN_KEY_CHECKS = 1;
> ```

> 💎 专家提示：
> 1. 生产环境删除前务必备份
> 2. 使用`EXPLAIN DELETE`预估影响行数
> 3. 大表删除建议分批处理
> ```sql
> DELETE FROM big_table WHERE id < 10000 LIMIT 1000;
> ```