
## ğŸ“˜ PV æ“ä½œæ§åˆ¶è¿›ç¨‹æ‰§è¡Œï¼ˆå›¾ç¤ºé¢˜ï¼‰

### ğŸ“Œ åœºæ™¯è¯´æ˜

æœ‰ 5 ä¸ªè¿›ç¨‹ P1, P2, P3, P4, P5ï¼Œå®ƒä»¬ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºçš„æœ‰å‘å›¾ï¼š

- P1 â†’ P2ï¼ŒP1 â†’ P3ï¼Œè¡¨ç¤ºï¼šP2ã€P3 **å¿…é¡»åœ¨ P1 æ‰§è¡Œåæ‰èƒ½æ‰§è¡Œ**ã€‚
    
- P2 â†’ P4ï¼ŒP3 â†’ P4ï¼Œè¡¨ç¤ºï¼šP4 å¿…é¡»åœ¨ P2 å’Œ P3 æ‰§è¡Œåæ‰èƒ½æ‰§è¡Œã€‚
    
- P4 â†’ P5ï¼Œè¡¨ç¤ºï¼šP5 å¿…é¡»åœ¨ P4 æ‰§è¡Œåæ‰èƒ½æ‰§è¡Œã€‚
    

æˆ‘ä»¬ä½¿ç”¨ **PV æ“ä½œ**ï¼ˆP è¡¨ç¤º waitï¼ˆç­‰å¾…ï¼‰ï¼ŒV è¡¨ç¤º signalï¼ˆé‡Šæ”¾ï¼‰ï¼‰æ¥æ§åˆ¶æ‰§è¡Œé¡ºåºã€‚

---

### ğŸ” ä¿¡å·é‡è®¾ç½®

- è®¾ç½® 5 ä¸ªä¿¡å·é‡ï¼šS1, S2, S3, S4, S5ï¼Œåˆå§‹å€¼å‡ä¸º 0ã€‚
    
- å½“æŸè¿›ç¨‹æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå¯¹ç›¸åº”çš„ä¿¡å·é‡æ‰§è¡Œ V æ“ä½œï¼Œå”¤é†’åç»­è¿›ç¨‹ã€‚
    
- ç­‰å¾…æŸè¿›ç¨‹æ‰§è¡Œå®Œæˆçš„è¿›ç¨‹ï¼Œä¼šå¯¹ç›¸åº”ä¿¡å·é‡æ‰§è¡Œ P æ“ä½œã€‚
    

---

### ğŸ§  å…³é”®è€ƒç‚¹

å›¾ä¸­ï¼š

- a å’Œ b å¤„å¡«ï¼ˆ1ï¼‰ï¼šè¯´æ˜ P2ã€P3 éœ€è¦ç­‰å¾… P1 æ‰§è¡Œå®Œæ¯•ã€‚
    
- c å’Œ d å¤„å¡«ï¼ˆ2ï¼‰ï¼šè¯´æ˜ P4 éœ€è¦ç­‰å¾… P2ã€P3 æ‰§è¡Œå®Œæ¯•ã€‚
    
- e å’Œ f å¤„å¡«ï¼ˆ3ï¼‰ï¼šè¯´æ˜ P5 éœ€è¦ç­‰å¾… P4 æ‰§è¡Œå®Œæ¯•ã€‚
    

---

```mermaid
graph LR
    subgraph S1["Semaphore S1"]
        V1["V(S1)"]
        W2["P2: P(S1)"]
        W3["P3: P(S1)"]
    end

    subgraph S2["Semaphore S2"]
        V2["P2: V(S2)"]
        V3["P3: V(S2)"]
        W4a["P4: P(S2)-from P2"]
        W4b["P4: P(S2)-from P3"]
    end

    subgraph S3["Semaphore S3"]
        V4["P4: V(S3)"]
        W5["P5: P(S3)"]
    end

    P1["Process P1"] --> V1
    V1 --> W2 --> P2 --> V2 --> W4a
    V1 --> W3 --> P3 --> V3 --> W4b
    W4a --> P4
    W4b --> P4 --> V4 --> W5 --> P5

    classDef semaphore fill:#f9f,stroke:#333;
    class S1,S2,S3 semaphore;
```


### æ­»é”çš„å…¬å¼


$$
n(w-1)+1
$$