## 2023
2023 年试题二（共 15 分） 
阅读下列说明，回答问题 1 至问题 2，将解答填入答题纸的对应栏内。
【说明】 一汽车厂商对配件进行统一管理，设计了相应的数据库，其中一个表记录了维修配件的使用信息。其表结构如下： 
**维修配件使用表（车牌号，维修时间，配件编码，配件名称，配件供应商，配件仓库编码，仓库地址，维修配件数量）** 
其中，车牌号和配件编码满足唯一性。假设同一辆车在同一次维修情况下可能需要多种维修配件；一种配件只能存放于一个配件仓库，一种配件只能由一个配件供应商提供。维修时间精确到秒。 

【问题 1】（7 分） 
题中给出的维修配件使用表存在数据冗余，请给出具体的冗余属性，并说明因此会出现哪些异常？
<font color="#ff0000">维修配件使用表存在如下冗余属性：</font>
<font color="#ff0000">1. 配件名称、配件供应商、配件仓库编码依赖于配件编码；</font>
<font color="#ff0000">2. 仓库地址依赖于配件仓库编码。</font>

<font color="#ff0000">因此会导致以下异常：</font>
<font color="#ff0000">1. 插入异常：若尚未维修某配件，无法记录其供应商信息；</font>
<font color="#ff0000">2. 删除异常：删除最后一次维修记录时，配件信息也被删除；</font>
<font color="#ff0000">3. 更新异常：若配件供应商变更，需要在多条记录中同步更新，易出错。</font>

【问题 2】（8 分）
维修配件使用表是否满足 BCNF？如果不满足，请对其进行模式分解，使分解后的关系模式满足 BCNF，并标记出主键和外键。
1. 不满足BCNF范式。分解后的关系模式如下：
配件信息表（<u>配件编码</u>，配件名称，配件供应商，*配件仓库编码*）
配件仓库信息表（<u>配件仓库编码</u>，仓库地址）
维修信息表（<u>车牌号，维修时间，配件编码</u>，*维修配件数量*）

## 2022
2022 年试题二（共 15 分）
阅读下列说明，回答问题 1 至问题 3，将解答填入答题纸的对应栏内。
【说明】
某卡丁车场地为方便车手线上查询自己的圈速成绩，设计了相应的关系模型。模型中有三个表：

**冲线记录表**<span style="background:#fff88f">（序列号，日期，冲线时刻，圈速，车号，组别，手机号，车手姓名）；</span>
**赛车表**（车号，组别，车型）；
**车手表**（车手姓名，手机号，年龄，性别）。 其中序列号唯一确定一条冲线记录，车型和组别可由车号确定，车手手机号唯一，车手姓名可重复。

【问题 1】（3 分） 
冲线记录表中是否含有数据冗余？如果存在冗余，请列出冗余属性。
<font color="#ff0000">1. 冲线记录表中存在数据冗余。</font>
<font color="#ff0000">2. 组别，车手姓名是冗余属性。</font>

【问题 2】（6 分）
请分别给出冲线记录表、赛车表和车手表的主码和外码。
<font color="#ff0000">冲线记录表</font>
<font color="#ff0000">	主码：序列号</font>
<font color="#ff0000">	外码：车号，手机号</font>
<font color="#ff0000">赛车表</font>
<font color="#ff0000">	主码：车号</font>
<font color="#ff0000">	外码：无</font>
<font color="#ff0000">车手表</font>
<font color="#ff0000">	主码：手机号</font>
<font color="#ff0000">	外码：无</font>

【问题 3】（6 分）
题干描述的冲线记录表是否满足 3NF？如果不满足，请给出导致不满足3NF 的函数依赖关系，并用 50 字以内的文字简要说明解决方案。
<font color="#ff0000">1. 不满足3NF</font>
<font color="#ff0000">2. 序列号→车号，车号→组别；以及序列号→手机号，手机号→车手姓名。</font>
<font color="#ff0000">3. 解决方案为删除组别和车手姓名两个属性。</font>

## 2021
2021 年试题二（共 15 分）
阅读下列说明，回答问题 1 至问题 3，将解答填入答题纸的对应栏内。
【说明】
为防控新冠疫情，一些公共设施需要定期消毒。管理部门为高效完成工作并记录必要的工作信息，设计了相应的数据库，其中有一个表用来记录公共汽车的消毒情况。表的结构如下：
**消毒记录**（日期，<u>车牌号</u>，行驶路线，<u>消毒人员工号</u>，消毒人员姓名）

其中车牌号和消毒人员工号唯一，同辆车保持固定的行驶路线。假设同一人员每天可以负责多辆车的消毒工作。

【问题 1】（6 分）
给出消毒记录表中成立且左侧只有一个属性的所有函数依赖关系。题中设计的消毒记录表是否满足 2NF?请用 100 字以内的文字说明原因。

【问题 2】（6 分）
如果要将消毒记录表规范化为满足 3NF，请用 100 字以内的文字简要说明解决方案，并给出各个新表的主码和外码。 

【问题 3】（3 分）
如果每辆车每日有多次消毒，需要记录每次消毒的消毒时间，在问题2 设计结果的基础上，如何在不破坏 3NF 且不增加冗余的前提下做到？请简单说明方案。
